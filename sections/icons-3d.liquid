<style>

.video__wrapper {
  position: relative;
  z-index: 1;
  max-width: 250px;
  width: 90%;
  display: flex;
  gap: 10px;
}
.video__wrapper video {
  width: 100%;
  height: 100%;
}
.video__wrapper #progress {
  position: absolute;
  z-index: 10;
  background: #0ebeff;
  bottom: 0;
  width: 100%;
  height: 3px;
  left: 0;
  bottom: -4px;
  transform-origin: 0 0;
}

#cursor {
  position: absolute;
  z-index: 100;
  mix-blend-mode: difference;
  top: 0;
  left: 0;
  font-family: "Roboto", sans-serif;
  text-transform: uppercase;
  font-size: 10px;
  color: #ff3c41;
}
</style>
<div class="video__wrapper">
  <video id="video" class="video">
    <source src="https://cdn.shopify.com/videos/c/o/v/c10601426160467e88773d17a20c66cf.webm" type="video/webm">
  </video>
  <video id="video" class="video">
    <source src="https://cdn.shopify.com/videos/c/o/v/c10601426160467e88773d17a20c66cf.webm" type="video/webm">
  </video>
  <video id="video" class="video">
    <source src="https://cdn.shopify.com/videos/c/o/v/c10601426160467e88773d17a20c66cf.webm" type="video/webm">
  </video>
  <!-- <div id="progress">&nbsp</div> -->
</div>
<!-- <div id="cursor">
  Move mouse
</div> -->
<!-- partial -->

<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css"> -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js'></script>

<script>
  $('.video').hover(function(){
    $(this).toggleClass('active');
  })
  // var vid_w = $('#video').outerWidth();
  /*--------------------
âš™ï¸ Options
--------------------*/
const options = {
  leftBound: '0.1', // => 10% of window width
  rightBound: '0.9' // => 90% of window width
};


/*--------------------
ðŸ“Œ Vars
--------------------*/
const video = document.querySelector('.video');
const cursor = document.getElementById('cursor');
const progress = document.getElementById('progress');
const frameRate = 24;
 const time = { frame: 0 };
const videos =  document.querySelectorAll('.video');
 
video.pause();


/*--------------------
ðŸ“ Map
--------------------*/

const map = (num, in_min, in_max, out_min, out_max) => {
  return (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
};


/*--------------------
ðŸ’¨ Mousemove
--------------------*/
const mouseMove = e => {
  const x = e.clientX || e.touches[0].clientX;
  const y = e.clientY || e.touches[0].clientY;
  TweenMax.to(time, 1, {
    // Mouse catches progress from 10% to 90% of window width
    frame: Math.min(video.duration - 0.1, Math.max(0, map(x, video.clientWidth * options.leftBound, video.clientWidth * options.rightBound, 0, video.duration))),
    ease: Power2.easeOut });


  // TweenMax.to(cursor, .5, {
  //   x: x - cursor.offsetWidth / 2,
  //   y: y - 15,
  //   ease: Power2.easeOut });


  // TweenMax.to(progress, 1, {
  //   // Mouse catches progress from 10% to 90% of window width
  //   scaleX: Math.min(1, Math.max(0, map(x, window.innerWidth * options.leftBound, window.innerWidth * options.rightBound, 0, 1))),
  //   ease: Power2.easeOut });

};


/*--------------------
â™»ï¸ Loop
--------------------*/
const loop = setInterval(() => {
  video.currentTime = time.frame;
}, 100);


/*--------------------
âš ï¸ Events
--------------------*/
 video.addEventListener('mousemove', mouseMove);
 video.addEventListener('touchstart', mouseMove);
 video.addEventListener('touchmove', mouseMove);


// videos.forEach(els => els.addEventListener('mouseenter', event => {
//  event.target.videos.mouseMove;
// }));

 let itemss = document
        .querySelector(".video__wrapper")
        .querySelectorAll("video");
    // const heading = document.querySelector(".header-wrapper");
    itemss.forEach((item) => {
        item.addEventListener("mouseover", () => {
              item.setAttribute("open", true);
            item.addEventListener("mouseout", () => {
              item.setAttribute("open", false);
            });
        });
    });


</script>

{% schema %}
{
  "name": "Icons 3d",
  "settings": [],
    "presets": [
      {
        "name": "Icons 3d"
      }
      ]
}
{% endschema %}